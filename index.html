<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SIGN UP</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap">
  <link rel="stylesheet" href="style.css"> 
</head>
<body>
  <div id="blurred-background-layer"></div>
  <div id="userInfo" style="display: none;">
    <h3>Welcome, <span id="userName"></span>!</h3>
    <p>Email: <span id="userEmail"></span></p>
    <p>Mobile: <span id="userMobile"></span></p>
    <button id="logoutBtn">Logout</button>
  </div>

  <div id="authBox">
    <h2 id="formTitle">Sign Up</h2>
    <form id="authForm">
      <div class="form-group signup-only">
        <input type="text" id="name" placeholder="Full Name" required />
      </div>
      
      <div class="form-group">
        <input type="text" id="emailOrMobile" placeholder="Email or Mobile Number" required />
        <div id="mobileError" style="display:none;"></div>
      </div>
      
      <div class="form-group password-wrapper">
        <input type="password" id="password" placeholder="Password" required />
        <button type="button" class="toggle-password">üëÅÔ∏è</button>
      </div>
      
      <div class="form-group password-wrapper signup-only">
        <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
        <button type="button" class="toggle-password">üëÅÔ∏è</button>
      </div>
      
      <div id="passwordError">PASSWORD & CONFIRM PASSWORD DO NOT MATCH</div>
      
      <button type="submit" id="submitBtn">Sign Up</button>
    </form>

    <p id="toggleText">
      Already registered? <a href="#" id="toggleMode">Login here</a>
    </p>

    <hr />
    <button id="googleBtn">
      <span class="google-icon"></span>
      Continue with Google
    </button>
  </div>

  <script>
    // Password Toggle
    document.querySelectorAll('.toggle-password').forEach(btn => {
      btn.addEventListener('click', function() {
        const input = this.parentElement.querySelector('input');
        input.type = input.type === 'password' ? 'text' : 'password';
        this.textContent = input.type === 'password' ? 'üëÅÔ∏è' : 'üôà';
      });
    });
    
    // Mobile Number Validation is now handled in app.js for a single field
    document.getElementById('emailOrMobile').addEventListener('input', function() {
        const input = this.value;
        const mobileError = document.getElementById('mobileError');
        // Regular expression to check if the input is a valid 10-digit number
        if (!/^\d{10}$/.test(input) && input.length > 0) {
            mobileError.style.display = 'block';
        } else {
            mobileError.style.display = 'none';
        }
    });

    // Form Validation
    document.getElementById('authForm').addEventListener('submit', function(e) {
      const password = document.getElementById('password').value;
      const confirm = document.getElementById('confirmPassword').value;
      const error = document.getElementById('passwordError');
      
      if (password !== confirm) {
        e.preventDefault();
        error.style.display = "block";
      } else {
        error.style.display = "none";
      }
    });

    // Add hover effect for the login link
    document.getElementById('toggleMode').addEventListener('mouseover', function() {
      this.style.color = '#8b5cf6';
      this.style.textDecoration = 'underline';
    });
    document.getElementById('toggleMode').addEventListener('mouseout', function() {
      this.style.color = '#a78bfa';
      this.style.textDecoration = 'none';
    });
  </script>
  
  <script type="module" src="app.js"></script>
</body>
</html>
